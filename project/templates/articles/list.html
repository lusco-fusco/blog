{% extends 'layout.html' %}

{% block content %}
    <script>
      $(function() {
        $('a.delete').bind('click', function() {
            $.ajax({
                url: '/article/' + $(this).attr('id'),
                type: 'DELETE',
                success: function(result) {
                    location.reload();
                }
            });
        });
      });
    </script>
    {% for article in articles %}
      <li>
          <a href="{{url_for('article.single_article', article_id=article.id)}}">{{ article.title }}</a>
          <a href="{{url_for('article.render_edit_article', article_id=article.id)}}">edit</a>
          <a href="#" class="delete" id={{article.id}}>delete</a>
      </li>
    {% endfor %}
    <a href="{{url_for('article.create_article')}}">create</a>
{% endblock %}